<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PMR - ABBSKP 2025/2026</title>
        <link rel="icon" href="/LOGO PMI.jpg" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    
    <!-- Medical Icons Font -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js';
        import { getFirestore, collection, getDocs, doc, setDoc, getDoc, query, where } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js';
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js';

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBQtlCxwhIXyKxuW5FRyRqOElCz-2_EPjs",
            authDomain: "redcross-76c90.firebaseapp.com",
            projectId: "redcross-76c90",
            storageBucket: "redcross-76c90.firebasestorage.app",
            messagingSenderId: "720435310423",
            appId: "1:720435310423:web:058f8f14743135da62d812",
            measurementId: "G-1N1LDV3R95"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const provider = new GoogleAuthProvider();

        // PMR Voting System JavaScript with Firebase Authentication and Vote Tracking
        document.addEventListener('DOMContentLoaded', function() {
            const candidatesContainer = document.getElementById('candidatesContainer');
            const voteBtn = document.getElementById('voteBtn');
            const googleSignInBtn = document.getElementById('googleSignInBtn');
            const signOutBtn = document.getElementById('signOutBtn');
            const authSection = document.getElementById('authSection');
            const votingSection = document.getElementById('votingSection');
            const userInfo = document.getElementById('userInfo');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');

            // Sample candidate data with medical theme
            const candidates = [
                {
                    id: 'rangga',
                    name: 'Muhammad Rangga',
                    position: 'Calon Ketua PMR',
                    vision: 'Membangun PMR yang lebih aktif dalam pelayanan kesehatan masyarakat dan mengembangkan program-program inovatif untuk meningkatkan kesadaran kesehatan di lingkungan sekolah.',
                    mission: [
                        'Meningkatkan kemampuan P3K anggota PMR',
                        'Mengadakan penyuluhan kesehatan rutin',
                        'Memperbaiki fasilitas UKS sekolah',
                        'Menjalin kerjasama dengan Puskesmas setempat'
                    ],
                    image: '/foto rangga.jpg',
                    color: '#dc2626'
                },
                {
                    id: 'ghazi',
                    name: 'Ghazi',
                    position: 'Calon Ketua PMR',
                    vision: 'Menjadikan PMR sebagai organisasi yang layak,terstruktur, dan menjadi teladan dalam bidang kesehatan.',
                    mission: [
                        'Membuat prosedur yang jelas untuk siswa yang sakit',
                        'Memperbaiki komunikasi diantara para anggota agar dapat bekerja dengan',
                        'Memperlayak fasilitas UKS',
                        'Menjadikan anggota PMR paham tentang kesehatan',
                        'Membawa pengaruh baik tentang kesehatan untuk seluruh warga sekolah'
                    ],
                    image: '/foto ghazi.jpg',
                    color: '#3b82f6'
                }
            ];